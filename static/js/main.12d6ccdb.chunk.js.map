{"version":3,"sources":["component/Searchbar/Searchbar.styled.jsx","component/Searchbar/Searchbar.jsx","servises/api-service.js","component/ImageGalleryItem/ImageGalleryItem.styled.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Button/Button.styled.jsx","component/Button/Button.jsx","component/Modal/Modal.styled.jsx","component/Modal/Modal.jsx","component/Loader/Loader.styled.jsx","component/Loader/Loader.jsx","component/ImageGallery/ImageGallery.styled.jsx","component/ImageGallery/ImageGallery.jsx","component/App/App.js","index.js"],"names":["Header","styled","header","SearchForm","form","Button","button","ButtonLabel","span","Input","input","Searchbar","onSubmit","e","preventDefault","target","elements","request","value","type","name","autoComplete","autoFocus","placeholder","fetchImagine","page","axios","get","params","q","key","image_type","orientation","per_page","Item","li","Image","img","ImageGalleryItem","images","onClick","map","id","largeImageURL","currentTarget","firstChild","src","alt","Btn","children","Overlay","div","ModalBlock","modalRoot","document","querySelector","Modal","hendelKeyDown","code","props","hendelBackdropClick","window","addEventListener","this","removeEventListener","createPortal","className","Component","Load","Download","color","height","width","timeout","Gallery","ul","Content","ImageGallery","state","status","imageUrl","showModal","onLoadMore","setState","prevState","onTogleModal","onOpenModal","urlImg","console","log","prevProps","a","data","hits","length","scrollTo","top","documentElement","scrollHeight","behavior","App","hendelFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12d6ccdb.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const ButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 14px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n  }\r\n`;\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  Header,\r\n  SearchForm,\r\n  Button,\r\n  ButtonLabel,\r\n  Input,\r\n} from \"./Searchbar.styled\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <Header>\r\n      <SearchForm\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          onSubmit(e.target.elements.request.value);\r\n          e.target.elements.request.value = \"\";\r\n        }}\r\n      >\r\n        <Button type=\"submit\">\r\n          <ButtonLabel>Search</ButtonLabel>\r\n        </Button>\r\n\r\n        <Input\r\n          type=\"text\"\r\n          name=\"request\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </SearchForm>\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import axios from \"axios\";\n\nconst fetchImagine = (request, page) => {\n  // const KEY_IPI = \"22756527-2e30581cfec2e7755e4985106\";\n  // return axios.get(\n  //   `https://pixabay.com/api/?q=${request}&page=${page}&key=${KEY_IPI}&image_type=photo&orientation=horizontal&per_page=12`\n  // );\n\n  return axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      q: request,\n      key: \"22756527-2e30581cfec2e7755e4985106\",\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      per_page: 12,\n      page: page,\n    },\n  });\n};\n\nexport default fetchImagine;\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { Item, Image } from \"./ImageGalleryItem.styled\";\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) => {\r\n  // const imadeUrl = (e) => {\r\n  //     const findedUrl = e.currentTarget.firstChild.src;\r\n  //     const urlIm = images.find((image) => image.webformatURL === findedUrl);\r\n  //     return urlIm.largeImageURL;\r\n  //   };\r\n\r\n  return images.map(({ id, largeImageURL }) => (\r\n    <Item key={id} onClick={(e) => onClick(e.currentTarget.firstChild.src)}>\r\n      <Image src={largeImageURL} alt=\"\" />\r\n    </Item>\r\n  ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Btn = styled.button`\r\n  padding: 8px 16px;\r\n  margin-bottom: 30px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { Btn } from \"./Button.styled\";\r\n\r\nconst Button = ({ onClick, children }) => {\r\n  return (\r\n    <Btn type=\"button\" onClick={onClick}>\r\n      {children}\r\n    </Btn>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nexport const ModalBlock = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Overlay, ModalBlock } from \"./Modal.styled\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.hendelKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.hendelKeyDown);\r\n  }\r\n\r\n  hendelKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n  hendelBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <Overlay className=\"Overlay\" onClick={this.hendelBackdropClick}>\r\n        <ModalBlock className=\"Modal\">{this.props.children}</ModalBlock>\r\n      </Overlay>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Load = styled.div`\r\n  position: fixed;\r\n  left: calc(50% - 50px);\r\n  top: calc(50%);\r\n`;\r\n","import Loader from \"react-loader-spinner\";\r\nimport { Load } from \"./Loader.styled\";\r\n\r\nconst Download = () => {\r\n  return (\r\n    <Load>\r\n      <Loader\r\n        type=\"Rings\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </Load>\r\n  );\r\n};\r\n\r\nexport default Download;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Gallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 30px;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport fetchImagine from \"../../servises/api-service\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Download from \"../Loader/Loader\";\r\nimport { Gallery, Content } from \"./ImageGallery.styled\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    status: \"idle\",\r\n    page: 1,\r\n    imageUrl: \"\",\r\n\r\n    showModal: false,\r\n  };\r\n  // idle, pending, resolved, regected\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const { page } = this.state;\r\n    const { request } = this.props;\r\n\r\n    if (prevProps.request !== request) {\r\n      this.setState({\r\n        status: \"pending\",\r\n        images: [],\r\n        page: 1,\r\n      });\r\n\r\n      const { data } = await fetchImagine(request, page);\r\n\r\n      if (data.hits.length === 0) {\r\n        this.setState({\r\n          status: \"regected\",\r\n        });\r\n      } else {\r\n        this.setState({ images: data.hits, status: \"resolved\" });\r\n      }\r\n    }\r\n\r\n    if (prevProps.request === request && prevState.page !== page) {\r\n      const { data } = await fetchImagine(request, page);\r\n      this.setState({\r\n        images: [...prevState.images, ...data.hits],\r\n        status: \"resolved\",\r\n      });\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  onLoadMore = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  onTogleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onOpenModal = (urlImg) => {\r\n    console.log(\"tyt\", urlImg);\r\n\r\n    // console.log(\r\n    //   this.state.images.find((image) => image.webformatURL === imhUrl)\r\n    //     .largeImageURL\r\n    // );\r\n\r\n    this.setState({\r\n      imageUrl: urlImg,\r\n    });\r\n\r\n    this.onTogleModal();\r\n  };\r\n\r\n  render() {\r\n    const { images, showModal, imageUrl, status } = this.state;\r\n\r\n    if (status === \"idle\") {\r\n      return (\r\n        <Content>\r\n          <h1>Введите запрос</h1>\r\n        </Content>\r\n      );\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return <Download />;\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <Content>\r\n          <Gallery>\r\n            <ImageGalleryItem images={images} onClick={this.onOpenModal} />\r\n          </Gallery>\r\n          <Button onClick={this.onLoadMore}>Load more</Button>\r\n          {showModal && (\r\n            <Modal onClick={this.onTogleModal}>\r\n              <img src={imageUrl} alt=\"\" />\r\n            </Modal>\r\n          )}\r\n        </Content>\r\n      );\r\n    }\r\n\r\n    if (status === \"regected\") {\r\n      return (\r\n        <Content>\r\n          <h1>По вашему запросу нет данных</h1>\r\n        </Content>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  request: PropTypes.string,\r\n};\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n\nexport default class App extends Component {\n  state = {\n    request: \"\",\n  };\n\n  hendelFormSubmit = (request) => {\n    this.setState({ request });\n  };\n\n  render() {\n    console.log(this.state.request);\n    return (\n      <>\n        <Searchbar onSubmit={this.hendelFormSubmit} />\n        <ImageGallery request={this.state.request} />\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./component/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}